x = [5.4,3.9;4.8,3;5.1,3.3;5.7,2.8;5.7,3.0;5.9,3.2;6.9,3.2;6.4,2.7;6.7,3.0];

for i=1:length(x)
    for j = 1:length(x)
        d(i,j) = (norm(x(i,:)-x(j,:)))^2;
        w(i,j) = exp(-d(i,j)/0.16);
        
        
    end
end

for j=1:length(x)
    sum1 = 0;
    for i = 1:length(x)
        sum1 = sum1 + w(i,j);
    end
    t(:,j) = w(:,j)/sum1;
end

y = [0.33,0.33,0.34;0.33,0.33,0.34;1,0,0;0.33,0.33,0.34;0,1,0;0.33,0.33,0.34;0.33,0.33,0.34;0.33,0.33,0.34;0,0,1];
k = t*y;
k(3,:) = [1,0,0];
k(5,:) = [0,1,0];
k(9,:) = [0,0,1];

for i=1:length(k)
    k(i,:) = k(i,:)/sum(k(i,:));
end



for itr = 1:500
    k = t*k;
    k(3,:) = [1,0,0];
    k(5,:) = [0,1,0];
    k(9,:) = [0,0,1];
    for i=1:length(k)
        
        k(i,:) = k(i,:)/sum(k(i,:));
    end
    
    
end


